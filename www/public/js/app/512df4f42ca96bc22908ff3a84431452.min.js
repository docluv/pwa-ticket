"use strict";!function(){function t(){_d.qs(".navbar-toggler").addEventListener("click",function(){!function(){if(document.body.clientWidth<992){var e=document.getElementById("navbarNav");e.classList.toggle("show")}}()})}window.pwaTickets={getParameterByName:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}};var n="";-1===window.location.href.indexOf("login")&&pwaTicketAPI.verifyToken().then(function(e){e?(document.body.classList.add("authenticated"),pwaTicketAPI.loadTemplate("templates/event-list.html").then(function(e){if(e){n=e;var t=_d.qs(".search-input");t.addEventListener("keyup",function(e){return e.preventDefault(),(3<t.value.length||13===e.keyCode)&&pwaTicketAPI.searchFutureEvents(t.value).then(function(e){_d.qs(".content-target").innerHTML=Mustache.render(n,{events:e})}),!1})}}).catch(function(){}),t(),_d.qs(".logout-btn").addEventListener("click",function(e){return e.preventDefault(),pwaTicketAPI.logout(),!1})):window.location.href="login"}),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(function(){}).catch(function(){})}();